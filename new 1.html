<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Wirtualny Spacer - Hotspot Arrows</title>
    <link rel="stylesheet" href="css/pannellum.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <style>
        html, body { width:100%; height:100%; margin:0; padding:0; overflow:hidden; }
        #panorama { width:100%; height:100%; }

        /* Stylizacja hotspotów */
        .pnlm-hotspot {
            background: white !important;
            width: 60px !important;
            height: 60px !important;
            border-radius: 50% !important;
            border: 3px solid #2196F3 !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            font-size: 28px !important;
            cursor: pointer !important;
            box-shadow: 0 2px 10px rgba(0,0,0,0.4) !important;
            z-index: 50 !important;
            opacity: 1 !important;
            visibility: visible !important;
        }


        .info {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 12px;
            z-index: 200;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <div id="panorama"></div>
    <div class="info" id="scene-title">Korytarz A</div>

    <script src="js/pannellum.js"></script>
    <script>
        var viewer = pannellum.viewer('panorama', {
            "default": { 
                "firstScene": "korytarz_a", 
                "sceneFadeDuration": 700, 
                "autoLoad": true 
            },
            "scenes": {
                "wejscie piwnica": {
                    "title": "Poziom 0",
                    "hfov": 110,
                    "panorama": "https://cdn.jsdelivr.net/gh/OlafScholdz/ILO_Street_View@main/Szatnia.jpeg",
                    "hotSpots": [
                        {
                            "pitch": -5,      // trochę w dół
                            "yaw": 0,         // wprost do przodu
                            "type": "scene",
                            "text": "sala 25",
                            "sceneId": "sala_205"
                        }
                    ]
                },
                "sala_205": {
                    "title": "Sala 205",
                    "panorama": "https://cdn.jsdelivr.net/gh/Mizoli90/ILO_Street_View@main/sala_205.jpg",
                    "hotSpots": [
                        {
                            "pitch": -5,
                            "yaw": 0,
                            "type": "scene",
                            "text": "sala 24",
                            "sceneId": "korytarz_a"
                        }
                    ]
                }
            }
        });

        viewer.on('scenechange', function(e) {
            document.getElementById('scene-title').textContent = viewer.getConfig().scenes[e].title;
        });

        // Po załadowaniu, stylizuj hotspoty
        viewer.on('load', function() {
            setTimeout(function() {
                document.querySelectorAll('.pnlm-hotspot').forEach(function(el) {
                    el.style.visibility = 'visible';
                    el.style.opacity = '1';
                });
            }, 100);
        });
    </script>
</body>
</html>